## 3. 함수와 함수형 프로그래밍
### 함수형 프로그래밍

**코틀린은 다중 패러다임 언어**

- Functional Programming
    - 프로그램을 모듈화 하여 코드 간략, 테스트나 재사용성 증가
    - 람다식, 고차 함수를 사용하며 다양한 함수 조합을 사용할 수 있다.
    - 간략한 표현식을 사용하므로 생산성이 높다.
- Object-Oriented Programming

**Functional Programming**

- 순수 함수(pure function)
    - side-effect 없는 함수
        - 동일한 입력 인자에 대해서는 항상 같은 결과를 출력 혹은 반환 한다.
        - 값을 예측할 수 있어 결정적(deterministic)이다.
    - 조건
        - 같은 인자에 대하여 항상 같은 값을 변환
        - 함수 외부의 어떤 상태도 바꾸지 않는다.
    - 왜 사용하는가?
        - 입력과 내용을 분리할 수 있고 모듈화 하므로 재사용성 증가
            - 여러가지 함수와 혼용하여 사용하도 문제 없음
        - 상태에 영향을 주지 않음
        - 함수의 값을 추적, 예측 가능하므로 테스트, 디버깅, 등 유리
- 람다식(Lambda Expression)
    - 익명 함수의 하나의 형태로 이름 없이 사용 및 실행 가능
    - 람다 대수(Lambda calculus)로부터 유래
    - 람다식의 이용
        - 람다식은 고차 함수에서 인자로 넘기거나 결과값으로 반환 등 할 수 있다.
- 일급 객체(First Class Citizen)
    - 개념 : 권한을 많이 가진?
    - 함수의 인자로 전달할 수 있다.
    - 함수의 반환값에 사용할 수 있다.
    - 변수에 담을 수 있다.
    - (1급 함수라고도 한다.)
- 고차 함수(high-order function)
    - 일반 함수를 인자나 반환값으로 사용
    - 매게변수에 함수를 받을 수 있다.

    ```kotlin
    fun highFunc(sum: (Int, Int) -> Int, a: Int, b: Int): Int {
    	return sum(a,b)
    }
    ```
**코틀린의 다양한 함수들**

- 익명함수(anonymous functions)
- 인라인 함수(inline functions)
    - 함수가 호출되는 곳에 내용을 복사
        - 코드가 복사되므로 내용이 많은 함수에 사용하면 코드가 많아짐. (단점)
    - 함수의 분기 없이 처리 → 성능 증가
    - noinline 키워드를 사용하면 inline 이 되지 않음
        - 일부 람다식 함수를 인라인 되지 않도록 하기 위함
- 확장 함수(extension function)
    - 클래스의 멤버 함수를 외부에서 추가 가능
- 중위 표현법(infix notation)
    - 클래스 멤버 호출 시 사용하는 점(.)을 생략하고 함수 이름 뒤에 소괄호를 생략해 직관적인 이름을 사용할 수 있는 표현법
    - 조건
        - 멤버 메서드 또는 확장 함수여야 한다.
        - 하나의 매게변수를 가져야 한다.
        - infix 키워드를 사용하여 정의한다.
- 꼬리 재귀 함수(tail recursion function)
    - 스택에 계속 쌓이는 방식이 함수가 계속 씌워지는 꼬리를 무는 형태
    - 코틀린 고유의 "tailrec" 키워드를 사용해 선언

> 함수를 사용하면 컴파일 후 객체로 등록된다. 즉 객체로 사용되기 때문에 메모리를 사용하게되고, 많은 함수를 사용하게되면 그만큼 메모리도 많이 점유하게 된다.

**함수와 함수 변수의 범위**

- 최상위 및 지역 함수의 사용 범위
    - 최상위 함수는 main() 함수 전, 후 어디든 선언하고 코드 내에서 호출 가능
    - 지역 함수는 먼저 선언되어야 그 함수를 호출할 수 있음

- 전역 변수
    - 최상위에 있는 변수로 프로그램이 실행되는 동안 삭제되지 않고 메모리에 유지
    - 여러 요소가 동시에 접근하는 경우에 잘못된 동작을 유발할 수 있음
    - 자주 사용되지 않는 전역 변수는 메모리 자원 낭비
- 지역 변수
    - 특정 코드 블록 내에서만 사용
    - 블록 시작 시 임시로 사용되며 주로 스택 메모리를 사용**함수와 함수 변수의 범위**
